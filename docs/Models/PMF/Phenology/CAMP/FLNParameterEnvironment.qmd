---
title: "FLNParameterEnvironment"
format: html
---

```{r setup, echo = FALSE}
setup_qmd()
```

A data structure in APSIM Next Generation that captures the controlled environmental conditions under which Final Leaf Number (FLN) observations were made. These parameters describe the specific vernalisation and photoperiod treatments used in experiments, enabling accurate parameterisation of genotype-specific developmental responses.

## Overview

The `FLNParameterEnvironment` class is a data container within the [CAMP](/docs/Models/PMF/Phenology/CAMP/CAMP.qmd) phenology framework. It stores the specific environmental settings under which Final Leaf Number (FLN) was observed in controlled environment experiments, including vernalisation treatment temperature, duration, and photoperiod conditions.

These environmental parameters are essential for the [CalcCAMPVrnRates](/docs/Models/PMF/Phenology/CAMP/CalcCAMPVrnRates.qmd) function, which uses them in combination with [FinalLeafNumberSet](/docs/Models/PMF/Phenology/CAMP/FinalLeafNumberSet.qmd) observations to calculate cultivar-specific vernalisation rate parameters. By capturing the experimental conditions, this class enables accurate translation of controlled environment observations into simulation parameters that represent genotype × environment interactions affecting phenological development.

## Model Structure

{{< include /_includes/Models/model-structure-intro.md >}}

* [Model](/docs/Models/Core/Model.qmd)

## Connections to Other Components

{{< include /_includes/Models/connections-intro.md >}}

This data structure is used by:

| Component | Model | Connection Type | Description                                          |
|-----------|-------|-----------------|------------------------------------------------------|
| CAMP | [CAMP](/docs/Models/PMF/Phenology/CAMP/CAMP.qmd) | Parent | Main phenology model that contains this environment data. |
| CalcCAMPVrnRates | [CalcCAMPVrnRates](/docs/Models/PMF/Phenology/CAMP/CalcCAMPVrnRates.qmd) | Used by | Uses environment data to calculate vernalisation rate parameters. |

## Model Variables

{{< include /_includes/Models/model-variables-intro.md >}}

**Configurable and Reportable Properties**

This class stores the following environmental parameters from controlled environment experiments:

| Property             | Type    | Description                                                                 |
|----------------------|---------|-----------------------------------------------------------------------------|
| VrnTreatTemp         | double  | Vernalisation treatment temperature (°C)                             |
| VrnTreatDuration     | double  | Days of exposure to vernalising temperature                                |
| TreatmentPp_L        | double  | Photoperiod under long-day treatment (hours)                               |
| TtEmerge             | double  | Observed thermal time from sowing to emergence (°Cd)               |

**Read-Only Reportable Properties**

> No read-only properties are available for this model.

## User Interface

`FLNParameterEnvironment` can be added as a child of a [CAMP](/docs/Models/PMF/Phenology/CAMP/CAMP.qmd) node in the model tree. Right-click the CAMP node, select "Add Model...", and search for `FLNParameterEnvironment` in the Filter Box.

Parameters should be set based on the actual controlled environment conditions used when measuring the Final Leaf Number observations. These typically come from growth chamber or glasshouse experiments designed to separate vernalisation and photoperiod effects.

## Practical Example

Typical values used for wheat cultivar parameterisation:

| Parameter        | Typical Value | Description                                          |
|------------------|---------------|------------------------------------------------------|
| VrnTreatTemp     | 5-8°C        | Cold temperature during vernalisation treatment      |
| VrnTreatDuration | 40-60 days    | Duration of vernalisation treatment                  |
| TreatmentPp_L    | 16 hours      | Long photoperiod treatment                           |
| TtEmerge         | 90-100°Cd    | Thermal time from sowing to emergence                |

These values represent standard controlled environment conditions used to characterise vernalisation and photoperiod responses in wheat.

## See Also

* **Source code:** [FLNParameterEnvironment.cs on GitHub](http://github.com/APSIMInitiative/ApsimX/blob/master/Models/PMF/Phenology/CAMP/FLNParameterEnvironment.cs)
