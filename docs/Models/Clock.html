<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Clock – APSIM NG Notes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-293e81bb0733230b9e755d5a7d46e87a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">APSIM NG Notes</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../../docs/index.html" aria-current="page"> 
<span class="menu-text">Docs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tips/index.html"> 
<span class="menu-text">Tips</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/byzheng/apsimng-notes"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../docs/index.html">Docs</a></li><li class="breadcrumb-item"><a href="../../docs/Models/index.html">Models</a></li><li class="breadcrumb-item"><a href="../../docs/Models/Clock.html">Clock</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Docs</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Models/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Clock.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Clock</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Models/PMF/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PMF</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Arbitrator</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/PMF/Arbitrator/NutrientConstrainedAllocationMethod.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nutrient Constrained Allocation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/PMF/Arbitrator/RelativeAllocation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Relative Allocation</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Phenology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false">
 <span class="menu-text">Phases</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth5 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/PMF/Phenology/Phases/EmergingPhase.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Emerging Phase</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/PMF/Phenology/Phases/GenericPhase.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generic Phase</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/PMF/Phenology/Phases/GerminatingPhase.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Germinating Phase</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Models/Graph/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graph</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Graph/EventNamesOnGraph.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Show Event Names on Graph</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Models/Events/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Events</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAgeResources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAgeResources</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalBreeding.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalBreeding</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalBuy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalBuy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalDeath.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalDeath</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalManage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalManage</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalMark.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalMark</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalMilking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalMilking</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalMilkProduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalMilkProduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalSell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalSell</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalStock.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalStock</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMAnimalWeightGain.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMAnimalWeightGain</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMCalculateEcologicalState.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMCalculateEcologicalState</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMCalculateManure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMCalculateManure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMCollectManure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMCollectManure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMDetachPasture.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMDetachPasture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMDoCutAndCarry.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMDoCutAndCarry</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMEndOfTimeStep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMEndOfTimeStep</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMFinalizeTimeStep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMFinalizeTimeStep</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMGetResourcesRequired.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMGetResourcesRequired</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMHerdSummary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMHerdSummary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMInitialiseActivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMInitialiseActivity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMInitialiseResource.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMInitialiseResource</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMPastureReady.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMPastureReady</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMPotentialIntake.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMPotentialIntake</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMStartOfTimeStep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMStartOfTimeStep</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMUpdateLabourAvailability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMUpdateLabourAvailability</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMUpdatePasture.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMUpdatePasture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/CLEMValidate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CLEMValidate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/Commencing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Commencing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoActualPlantGrowth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoActualPlantGrowth</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoActualPlantPartioning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoActualPlantPartioning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoCatchYesterday.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoCatchYesterday</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoCommence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoCommence</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoDailyInitialisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoDailyInitialisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoDCAPST.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoDCAPST</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoEndPasture.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoEndPasture</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoEnergyArbitration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoEnergyArbitration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoFertiliserApplications.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoFertiliserApplications</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoInitialSummary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoInitialSummary</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoLifecycle.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoLifecycle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoManagement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoManagement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoManagementCalculations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoManagementCalculations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoNutrientArbitration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoNutrientArbitration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoPastureWater.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoPastureWater</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoPestDiseaseDamage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoPestDiseaseDamage</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoPhenology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoPhenology</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoPotentialPlantGrowth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoPotentialPlantGrowth</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoPotentialPlantPartioning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoPotentialPlantPartioning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoReport.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoReport</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoReportCalculations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoReportCalculations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSoilErosion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSoilErosion</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSoilOrganicMatter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSoilOrganicMatter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSoilTemperature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSoilTemperature</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSoilWaterMovement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSoilWaterMovement</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSolute.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSolute</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoStock.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoStock</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSurfaceOrganicMatterDecomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSurfaceOrganicMatterDecomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoSurfaceOrganicMatterPotentialDecomposition.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoSurfaceOrganicMatterPotentialDecomposition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoUpdate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoUpdate</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoUpdateWaterDemand.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoUpdateWaterDemand</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoWaterArbitration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoWaterArbitration</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/DoWeather.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DoWeather</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/EndOfDay.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EndOfDay</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/EndOfMonth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EndOfMonth</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/EndOfSimulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EndOfSimulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/EndOfWeek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EndOfWeek</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/EndOfYear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">EndOfYear</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/FinalInitialise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">FinalInitialise</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/PartitioningComplete.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PartitioningComplete</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/PlantSowing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PlantSowing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/PrePhenology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">PrePhenology</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/SeedImbibed.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SeedImbibed</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/StartOfDay.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">StartOfDay</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/StartOfFirstDay.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">StartOfFirstDay</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/StartOfMonth.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">StartOfMonth</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/StartOfSimulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">StartOfSimulation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/StartOfWeek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">StartOfWeek</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Events/StartOfYear.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">StartOfYear</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Models/Functions/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Functions</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Functions/AddFunction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Add Function</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Functions/FrostHeatDamageFunctions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Frost and Heat Damage Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Functions/HourlySinPpAdjusted.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hourly Sinusoidal and Exponential Air Temperature Function</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Functions/SubDailyInterpolation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sub Daily Interpolation Function</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Functions/ThreeHourAirTemperature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Three Hourly Air Temperature Function</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false">
 <span class="menu-text">DemandFunctions</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Functions/DemandFunctions/StorageNDemandFunction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Daily Nitrogen Demand for Storage Organs</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Models/Traits/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Traits</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Models/Traits/CO2/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CO2</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Crops/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Crops</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Crops/Canola/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Canola</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Crops/Canola/Phenology/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Phenology</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Crops/Wheat/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wheat</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Crops/Wheat/Traits/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Traits</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Crops/Wheat/Traits/co2-wheat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">CO2 for Wheat</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Crops/Wheat/grain/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grain</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Crops/Wheat/grain/NitrogenDemand.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grain Nitrogen Filling Rate or Nitrogen Demand (Wheat)</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../docs/Crops/Wheat/Phenology/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Phenology</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-17" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-17" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Crops/Wheat/Phenology/Emerging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Emerging</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Crops/Wheat/Phenology/Germinating.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Germinating</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/Crops/Wheat/Phenology/ThermalTime.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Thermal Time</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false">
 <span class="menu-text">Management</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-18" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-18" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../docs/management/fertiliser.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fertiliser Types</span></a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#inputs" id="toc-inputs" class="nav-link" data-scroll-target="#inputs">Inputs</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a></li>
  <li><a href="#events" id="toc-events" class="nav-link" data-scroll-target="#events">Events</a></li>
  <li><a href="#properties" id="toc-properties" class="nav-link" data-scroll-target="#properties">Properties</a></li>
  <li><a href="#user-interface" id="toc-user-interface" class="nav-link" data-scroll-target="#user-interface">User Interface</a></li>
  <li><a href="#practical-example" id="toc-practical-example" class="nav-link" data-scroll-target="#practical-example">Practical Example</a></li>
  <li><a href="#see-also" id="toc-see-also" class="nav-link" data-scroll-target="#see-also">See Also</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/byzheng/apsimng-notes/edit/main/docs/Models/Clock.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/byzheng/apsimng-notes/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../docs/index.html">Docs</a></li><li class="breadcrumb-item"><a href="../../docs/Models/index.html">Models</a></li><li class="breadcrumb-item"><a href="../../docs/Models/Clock.html">Clock</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Clock</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The APSIM Clock is a central component of the APSIM simulation framework, responsible for managing the simulation time and orchestrating the sequence of events that occur during a simulation. It defines the start and end dates of the simulation and raises various events at specific times to allow different models to perform their calculations.</p>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>The <code>Clock</code> model defines the simulation’s start and end dates, controls the passage of time, and raises numerous events used to coordinate actions across models. It forms the central timing mechanism within the APSIM NG framework, driving the daily timestep loop.</p>
</section>
<section id="inputs" class="level2">
<h2 class="anchored" data-anchor-id="inputs">Inputs</h2>
<ul>
<li><strong>Start</strong>: The start date of the simulation with format <code>YYYY-MM-DD</code> (optional if weather data is available).</li>
<li><strong>End</strong>: The end date of the simulation with format <code>YYYY-MM-DD</code> (optional if weather data is available).</li>
<li><strong>Weather</strong>: If no explicit start/end dates are defined, the model will attempt to derive them from the associated weather model.</li>
</ul>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>If <code>Start</code> or <code>End</code> are not defined, the model looks for a weather model in the scope and adopts its <code>StartDate</code> or <code>EndDate</code>. The simulation begins on the resolved start date and continues day by day until the end date. Each day, the <code>Clock</code> publishes multiple events to signal simulation actions across components. These include daily updates, management actions, soil processes, plant growth, CLEM processes, and reporting.</p>
<ol type="1">
<li><a href="../../docs/Models/Events/DoInitialSummary.html"><code>DoInitialSummary</code></a> – Initial summary at the start.</li>
<li><a href="../../docs/Models/Events/StartOfSimulation.html"><code>StartOfSimulation</code></a> – Marks the simulation’s beginning.</li>
<li><a href="../../docs/Models/Events/FinalInitialise.html"><code>FinalInitialise</code></a> – Final initialisation before the first day.</li>
<li><a href="../../docs/Models/Events/StartOfFirstDay.html"><code>StartOfFirstDay</code></a> – First day setup.</li>
<li>For each day (from <code>StartDate</code> to <code>EndDate</code>), the following events are raised in sequence (some only on specific days): <code>DoCatchYesterday</code>, <code>DoWeather</code>, <code>DoDailyInitialisation</code>, <code>StartOfDay</code>, <code>StartOfMonth</code>, <code>StartOfYear</code>, <code>StartOfWeek</code>, <code>DoManagement</code>, <code>DoFertiliserApplications</code>, <code>DoPestDiseaseDamage</code>, <code>DoEnergyArbitration</code>, <code>DoSoilErosion</code>, <code>DoSoilWaterMovement</code>, <code>DoSoilTemperature</code>, <code>DoSolute</code>, <code>DoSurfaceOrganicMatterPotentialDecomposition</code>, <code>DoSoilOrganicMatter</code>, <code>DoSurfaceOrganicMatterDecomposition</code>, <code>DoUpdateWaterDemand</code>, <code>DoDCAPST</code>, <code>DoWaterArbitration</code>, <code>PrePhenology</code>, <code>DoPhenology</code>, <code>DoPotentialPlantGrowth</code>, <code>DoPotentialPlantPartioning</code>, <code>DoPastureWater</code>, <code>DoNutrientArbitration</code>, <code>DoActualPlantPartioning</code>, <code>DoActualPlantGrowth</code>, <code>PartitioningComplete</code>, <code>DoStock</code>, <code>DoLifecycle</code>, <code>DoUpdate</code>, <code>DoManagementCalculations</code>, <code>DoEndPasture</code>, <code>DoReportCalculations</code>, <code>EndOfWeek</code>, <code>EndOfYear</code>, <code>EndOfMonth</code>, <code>EndOfDay</code>, <code>DoReport</code>.</li>
<li>After the last day, <a href="../../docs/Models/Events/EndOfSimulation.html"><code>EndOfSimulation</code></a> is raised.</li>
</ol>
</section>
<section id="events" class="level2">
<h2 class="anchored" data-anchor-id="events">Events</h2>
<p><strong>Events Listened For</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Event</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../../docs/Models/Events/Commencing.html">Commencing</a></td>
<td>Set Today as StartDate</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/OnDoCommence.qmd">OnDoCommence</a></td>
<td>The main function to run a simulation to trigger major loop</td>
</tr>
</tbody>
</table>
<p><strong>Events Raised To</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Event</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="../../docs/Models/Events/StartOfSimulation.html">StartOfSimulation</a></td>
<td>Occurs once at the start of the simulation</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/StartOfFirstDay.html">StartOfFirstDay</a></td>
<td>Occurs once at the start of the first day of the simulation</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/StartOfDay.html">StartOfDay</a></td>
<td>Occurs at start of each day</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/StartOfMonth.html">StartOfMonth</a></td>
<td>Occurs at start of each month</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/StartOfYear.html">StartOfYear</a></td>
<td>Occurs at start of each year</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/StartOfWeek.html">StartOfWeek</a></td>
<td>Occurs at start of each week</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/EndOfDay.html">EndOfDay</a></td>
<td>Occurs at end of each day</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/EndOfMonth.html">EndOfMonth</a></td>
<td>Occurs at end of each month</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/EndOfYear.html">EndOfYear</a></td>
<td>Occurs at end of each year</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/EndOfWeek.html">EndOfWeek</a></td>
<td>Occurs at end of each week</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/EndOfSimulation.html">EndOfSimulation</a></td>
<td>Occurs at end of simulation</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/FinalInitialise.html">FinalInitialise</a></td>
<td>Final Initialise event. Occurs once at start of simulation</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoCatchYesterday.html">DoCatchYesterday</a></td>
<td>Occurs first each day to allow yesterdays values to be caught</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoWeather.html">DoWeather</a></td>
<td>Occurs each day to calculate weather</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoDailyInitialisation.html">DoDailyInitialisation</a></td>
<td>Occurs each day to do daily updates to models</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoInitialSummary.html">DoInitialSummary</a></td>
<td>Occurs each day to make the initial summary</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoManagement.html">DoManagement</a></td>
<td>Occurs each day to do management actions and changes</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoFertiliserApplications.html">DoFertiliserApplications</a></td>
<td>Invoked to perform all fertiliser applications</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoPestDiseaseDamage.html">DoPestDiseaseDamage</a></td>
<td>Occurs to do Pest/Disease actions</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoEnergyArbitration.html">DoEnergyArbitration</a></td>
<td>Occurs when the canopy energy balance needs to be calculated with MicroClimate</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoSoilWaterMovement.html">DoSoilWaterMovement</a></td>
<td>Occurs each day to do water calculations such as irrigation, swim, water balance etc</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoSoilErosion.html">DoSoilErosion</a></td>
<td>Occurs to tell soil erosion to perform its calculations</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoSoilTemperature.html">DoSoilTemperature</a></td>
<td>Occurs to perform soil temperature calculations to do solute processes</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoSolute.html">DoSolute</a></td>
<td>Occurs each day</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoSurfaceOrganicMatterPotentialDecomposition.html">DoSurfaceOrganicMatterPotentialDecomposition</a></td>
<td>Occurs each day to perform daily calculations of organic soil matter</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoSoilOrganicMatter.html">DoSoilOrganicMatter</a></td>
<td>Occurs each day to perform daily calculations of organic soil matter</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoSurfaceOrganicMatterDecomposition.html">DoSurfaceOrganicMatterDecomposition</a></td>
<td>Occurs each day to do the daily residue decomposition</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoUpdateWaterDemand.html">DoUpdateWaterDemand</a></td>
<td>Occurs each day to do daily growth increment of total plant biomass</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoWaterArbitration.html">DoWaterArbitration</a></td>
<td>Occurs each day to do water arbitration</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoPastureWater.html">DoPastureWater</a></td>
<td>Initiates water calculations for the Pasture model</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/PrePhenology.html">PrePhenology</a></td>
<td>Occurs between DoWaterArbitration and DoPhenology. Performs sorghum final leaf no calcs</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoPhenology.html">DoPhenology</a></td>
<td>Occurs each day to perform phenology</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoPotentialPlantGrowth.html">DoPotentialPlantGrowth</a></td>
<td>Occurs each day to do potential growth</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoPotentialPlantPartioning.html">DoPotentialPlantPartioning</a></td>
<td>Occurs each day to do the water limited dm allocations. Water constraints to growth are accounted for in the calculation of DM supply and does initial N calculations to work out how much N uptake is required to pass to SoilArbitrator</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoNutrientArbitration.html">DoNutrientArbitration</a></td>
<td>Occurs each day to do nutrient arbitration</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoActualPlantPartioning.html">DoActualPlantPartioning</a></td>
<td>Occurs each day to do nutrient allocations</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoActualPlantGrowth.html">DoActualPlantGrowth</a></td>
<td>Occurs each day to do nutrient allocations. Pasture growth</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/PartitioningComplete.html">PartitioningComplete</a></td>
<td>Occurs each day to finish partitioning</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoUpdate.html">DoUpdate</a></td>
<td>Occurs near end of each day to do checks and finalising</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoStock.html">DoStock</a></td>
<td>Occurs each day to process stock methods in GrazPlan Stock</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoLifecycle.html">DoLifecycle</a></td>
<td>Occurs each day to process a Pest and Disease lifecycle object</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoManagementCalculations.html">DoManagementCalculations</a></td>
<td>Occurs each day after the simulation is done. Does management calculations</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoEndPasture.html">DoEndPasture</a></td>
<td>Occurs after pasture growth and sends material to SOM</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoReportCalculations.html">DoReportCalculations</a></td>
<td>Occurs when do report calculations</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/DoReport.html">DoReport</a></td>
<td>Occurs at end of each day</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/DoDCAPST.html">DoDCAPST</a></td>
<td>Occurs each day when dcaps performs its calculations. This must happen between DoPotentialPlantGrowth and DoPotentialPlantPartitioning</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMInitialiseResource.html">CLEMInitialiseResource</a></td>
<td>CLEM initialise Resources occurs once at start of simulation</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMInitialiseActivity.html">CLEMInitialiseActivity</a></td>
<td>CLEM initialise Activity occurs once at start of simulation</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMValidate.html">CLEMValidate</a></td>
<td>CLEM validate all data entry</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMStartOfTimeStep.html">CLEMStartOfTimeStep</a></td>
<td>CLEM start of timestep event</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMUpdateLabourAvailability.html">CLEMUpdateLabourAvailability</a></td>
<td>CLEM set labour availability after start of timestep and financial considerations</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMUpdatePasture.html">CLEMUpdatePasture</a></td>
<td>CLEM update pasture</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMDetachPasture.html">CLEMDetachPasture</a></td>
<td>CLEM detach pasture</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMPastureReady.html">CLEMPastureReady</a></td>
<td>CLEM pasture has been added and is ready for use</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMDoCutAndCarry.html">CLEMDoCutAndCarry</a></td>
<td>CLEM cut and carry</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMAnimalBreeding.html">CLEMAnimalBreeding</a></td>
<td>CLEM Do Animal (Ruminant and Other) Breeding and milk calculations</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMPotentialIntake.html">CLEMPotentialIntake</a></td>
<td>Get potential intake. This includes suckling milk consumption</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMCalculateManure.html">CLEMCalculateManure</a></td>
<td>Request and allocate resources to all Activities based on UI Tree order of priority. Some activities will obtain resources here and perform actions later</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMCollectManure.html">CLEMCollectManure</a></td>
<td>Request and allocate resources to all Activities based on UI Tree order of priority. Some activities will obtain resources here and perform actions later</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMGetResourcesRequired.html">CLEMGetResourcesRequired</a></td>
<td>Request and perform the collection of manure after resources are allocated and manure produced in time-step</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMAnimalMilkProduction.html">CLEMAnimalMilkProduction</a></td>
<td>CLEM Calculate Animals (Ruminant and Other) milk production</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMAnimalWeightGain.html">CLEMAnimalWeightGain</a></td>
<td>CLEM Calculate Animals(Ruminant and Other) weight gain</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMAnimalDeath.html">CLEMAnimalDeath</a></td>
<td>CLEM Do Animal (Ruminant and Other) death</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMAnimalMilking.html">CLEMAnimalMilking</a></td>
<td>CLEM Do Animal (Ruminant and Other) milking</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMCalculateEcologicalState.html">CLEMCalculateEcologicalState</a></td>
<td>CLEM Calculate ecological state after all deaths and before management</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMAnimalMark.html">CLEMAnimalMark</a></td>
<td>CLEM Do animal marking so complete before undertaking management decisions</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMAnimalManage.html">CLEMAnimalManage</a></td>
<td>CLEM Do Animal (Ruminant and Other) Herd Management (adjust breeders and sires etc.)</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMAnimalStock.html">CLEMAnimalStock</a></td>
<td>CLEM stock animals to pasture availability or other metrics</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMAnimalSell.html">CLEMAnimalSell</a></td>
<td>CLEM sell animals to market including transporting and labour</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMAnimalBuy.html">CLEMAnimalBuy</a></td>
<td>CLEM buy animals including transporting and labour</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMAgeResources.html">CLEMAgeResources</a></td>
<td>CLEM Age your resources (eg. Decompose Fodder, Age your labour, Age your Animals)</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMHerdSummary.html">CLEMHerdSummary</a></td>
<td>CLEM event to calculate monthly herd summary</td>
</tr>
<tr class="odd">
<td><a href="../../docs/Models/Events/CLEMFinalizeTimeStep.html">CLEMFinalizeTimeStep</a></td>
<td>CLEM finalize time-step before end</td>
</tr>
<tr class="even">
<td><a href="../../docs/Models/Events/CLEMEndOfTimeStep.html">CLEMEndOfTimeStep</a></td>
<td>CLEM end of timestep event</td>
</tr>
</tbody>
</table>
</section>
<section id="properties" class="level2">
<h2 class="anchored" data-anchor-id="properties">Properties</h2>
<p><strong>Configurable and Reportable Properties</strong></p>
<p>|————–|———–|————————————————-| | <code>Start</code> | DateTime? | Start date of the simulation with format <code>YYYY-MM-DD</code> | | <code>End</code> | DateTime? | End date of the simulation with format <code>YYYY-MM-DD</code> |</p>
<p><strong>Read-Only Reportable Properties</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 9%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>StartDate</code></td>
<td>DateTime</td>
<td>Derived start date</td>
</tr>
<tr class="even">
<td><code>EndDate</code></td>
<td>DateTime</td>
<td>Derived end date</td>
</tr>
<tr class="odd">
<td><code>Today</code></td>
<td>DateTime</td>
<td>Current simulation date</td>
</tr>
<tr class="even">
<td><code>FractionComplete</code></td>
<td>double</td>
<td>Fraction of the simulation completed</td>
</tr>
<tr class="odd">
<td><code>IsStartMonth</code></td>
<td>bool</td>
<td>Whether today is the first of the month</td>
</tr>
<tr class="even">
<td><code>IsStartYear</code></td>
<td>bool</td>
<td>Whether today is the first day of the year</td>
</tr>
<tr class="odd">
<td><code>IsEndMonth</code></td>
<td>bool</td>
<td>Whether today is the last day of the month</td>
</tr>
<tr class="even">
<td><code>IsEndYear</code></td>
<td>bool</td>
<td>Whether today is the last day of the year</td>
</tr>
</tbody>
</table>
</section>
<section id="user-interface" class="level2">
<h2 class="anchored" data-anchor-id="user-interface">User Interface</h2>
<p><code>Clock</code> can be added as a child of a <code>Simulation</code> node in the model tree. Right-click the simulation node, select “Add Model…”, and search for <code>Clock</code> in the Filter Box.</p>
</section>
<section id="practical-example" class="level2">
<h2 class="anchored" data-anchor-id="practical-example">Practical Example</h2>
<blockquote class="blockquote">
<p>No practical example is provided for this function.</p>
</blockquote>
</section>
<section id="see-also" class="level2">
<h2 class="anchored" data-anchor-id="see-also">See Also</h2>
<ul>
<li>Source code: <a href="https://github.com/APSIMInitiative/ApsimX/blob/master/Models/Clock.cs">Clock.cs on GitHub</a></li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/apsimng-notes\.bangyou\.me");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/byzheng/apsimng-notes/edit/main/docs/Models/Clock.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/byzheng/apsimng-notes/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>