---
title: "CAMP"
output: html_document
draft: true
---


Cereal Anthesis Molecular Phenology (CAMP) model is based on the Kirby Framework which assumes the timing of anthesis is a result of the timing of flag leaf and an additional thermal time passage from there to heading then anthesis. It also assumes the timing of flag leaf is a result of the Final Leaf Number (which sets a target) and leaf appearance rate (which sets the rate of progress toward the target). Leaf appearance rate is a function of Thermal time and a genotype specific Phyllochron which changes with Haun stage as described by [@jamieson_sirius:_1998].

The CAMP models vernalisation gene expression in wheat and other temperate cereals. It simulates molecular responses to temperature and photoperiod signals that regulate flowering transitions, including upregulation of Vrn1, Vrn2, and Vrn3 [@brown_integration_2013]. 

## Overview

The `CAMP` (Cold and Photoperiod-activated Molecular Pathways) model simulates the expression of vernalisation genes in cereals, with a focus on Vrn1, Vrn2, and Vrn3. These genes regulate the timing of key developmental transitions, particularly the completion of vernalisation and initiation of the reproductive phase.

Progress through the vernalising phase is determined by the apparent expression of Vrn1 and Vrn2 genes. Vrn1 is the gene that orchestrates cold temperature responses in development. To complete the vernalising stage, Vrn1 expression must first reach a threshold of at least 1.0. In warm temperatures (above 18 °C), Vrn1 is expressed at a genotype-dependent base rate. This base rate is lower for vernalisation-sensitive genotypes, which develop slower under warm conditions. However, exposure to cold temperatures accelerates Vrn1 expression, causing vernalisation-sensitive varieties to reach this stage at a lower Haun stage.

Vrn2 is upregulated by longer photoperiods and acts as a repressor of Vrn3, which is essential for progression to spikelet initiation. Vrn1 in turn represses Vrn2. Thus, higher photoperiod-induced Vrn2 expression raises the Vrn1 target above 1.0, extending the vernalisation phase. Conversely, shorter days reduce the Vrn1 target, a phenomenon known as *short-day vernalisation*. Vrn3 may also contribute to the acceleration of Vrn1 expression during vernalisation, a process represented by a composite parameter VrnX in the CAMP model.

The CAMP model integrates molecular and physiological representations to better capture genotype × environment × management (G×E×M) interactions and to provide a mechanistic bridge between genetic parameters and field-level crop behavior. All gene expressions are derived daily based on haun stage increment, temperature, and photoperiod.

## Inputs

| Input                    | Type          | Description                                                               |
|--------------------------|---------------|---------------------------------------------------------------------------|
| `tt`                     | `IFunction`   | Daily thermal time (°Cd)                                                  |
| `ColdVrnResponse`        | `IFunction`   | Function for cold temperature response driving Vrn1 expression            |
| `PpResponse`             | `IFunction`   | Relative photoperiod function (scaled between 0–1)                        |
| `haunStage`              | `IFunction`   | Daily Haun Stage value                                                    |
| `basePhyllochron`        | `IFunction`   | Phyllochron used for growth rate before emergence                         |
| `deltaHaunStage`         | `IFunction`   | Haun stage increment post-emergence                                       |
| `FLNparams`              | `FinalLeafNumberSet` | Cultivar-specific final leaf number parameters                     |
| `EnvData`                | `FLNParameterEnvironment` | Environmental inputs for parameterisation                        |
| `calcCAMPVrnRates`       | `CalcCAMPVrnRates` | Submodule that calculates cultivar-specific rate parameters        |

## Methodology



Genotype-specific rates of gene expression in CAMP are defined by [FLNparams](FinalLeafNumberSet.qmd), which includes:

- **MinLN**: Base final leaf number under full vernalisation and long photoperiod.
- **PpLN**: Increase in FLN when grown under short photoperiod (e.g. 8h) after full vernalisation.
- **VrnLN**: Increase in FLN due to lack of vernalisation when grown under short photoperiod.
- **VxPLN**: Modification to FLN due to photoperiod interaction under unvernalised conditions.


Controlled environment conditions under which final leaf number ([FinalLeafNumberSet](FinalLeafNumberSet.qmd)) was observed and defined by [EnvData](FLNParameterEnvironment.qmd):

- **VrnTreatTemp**: Temperature (°C) used during the vernalisation treatment.
- **VrnTreatDuration**: Number of days the plants were exposed to the vernalising temperature.
- **TreatmentPp_L**: Photoperiod (hours) during the long-day photoperiod treatment.
- **TtEmerge**: Measured thermal time (°Cd) from sowing to emergence.


**On [Plant Sowing](/docs/Models/Events.qmd#PlantSowing)**

When the plant is sown, the CAMP model resets all vernalisation gene expressions and loads cultivar-specific parameters from `FLNparams`. It also sets the initial Haun stage to 0.



Each day, the CAMP model updates the expression of Vrn1, Vrn2, and Vrn3 based on current Haun stage, temperature, and photoperiod. The rate of gene expression is genotype-specific and internally derived from FLN parameters.

- **Vrn1** is expressed at a base rate under warm conditions, increasing under colder temperatures. The total expression includes both base and cold-driven components. Once Vrn1 expression exceeds the threshold of 1.0, the plant is considered vernalised.
- **Vrn2** is upregulated by long photoperiods. It inhibits Vrn3 expression and must be repressed (via increased Vrn1) before reproductive development can proceed.
- **Vrn3** is upregulated after vernalisation is complete and is necessary for terminal spikelet initiation. Its expression accelerates phenological progression.
- **VrnX** captures the net effect of photoperiod (via Vrn2 and Vrn3) on vernalisation duration.

The final expression of vernalisation state is calculated as:

$$
\text{Vrn} = \min(\text{MaxVrn}, \max(0, \text{BaseVrn} + \text{Cold} + \text{Vrn1} + \text{Vrn3} - \text{Vrn2}))
$$

When:

- $Vrn ≥ 1.0$, the crop is vernalised.
- $Vrn ≥ 2.0$, the crop transitions to reproductive development (terminal spikelet stage).

The Haun stage at terminal spikelet (TSHS) is used to calculate final leaf number (FLN) via:

$$
\text{FLN} = 2.85 + 1.1 × \text{TSHS}
$$

## Events

**Events Listened For**

These are signals or notifications that the function listens for from other parts of the simulation:

| Event            | Purpose                                                                 |
|------------------|-------------------------------------------------------------------------|
| `SeedImbibed`    | Triggers start of imbibition and gene expression                        |
| `PlantEmerged`   | Activates photoperiod sensitivity and post-emergence expression         |
| `PlantSowing`    | Resets all gene expression and loads cultivar-specific parameters       |
| `PrePhenology`   | Main daily update loop for gene expression and state transitions        |

**Events Raised to**

> No events are raised by this function.

## Properties

**Configurable and Reportable Properties**

> No configurable properties are available for this function.

**Read-Only Reportable Properties**

| Property         | Type    | Description                                                                 |
|------------------|---------|-----------------------------------------------------------------------------|
| `IsGerminated`   | bool    | True if seed is imbibed                                                     |
| `IsEmerged`      | bool    | True if seed has emerged                                                    |
| `IsVernalised`   | bool    | True if vernalisation threshold reached ($Vrn ≥ 1.0$)                        |
| `IsReproductive` | bool    | True if reproductive threshold reached ($Vrn ≥ 2.0$)                         |
| `BaseVrn`        | double  | Baseline upregulated Vrn1 expression                                        |
| `Cold`           | double  | Cold-induced Vrn1 expression                                                |
| `Vrn1`           | double  | Methalated Vrn1 expression (persisting)                                     |
| `Vrn2`           | double  | Long-day induced repressor of flowering                                     |
| `Vrn3`           | double  | Photoperiod-dependent promoter of flowering                                |
| `Vrn`            | double  | Net vernalisation signal (Vrn1 + Vrn3 + BaseVrn - Vrn2)                     |
| `FLN`            | double  | Final leaf number                                                           |
| `TSHS`           | double  | Terminal spikelet Haun stage                                                |
| `VSHS`           | double  | Vernalisation saturation Haun stage                                        |
| `RelPp`          | double  | Relative photoperiod between 0 (short) and 1 (long)                         |
| `RelCold`        | double  | Cold effectiveness from `ColdVrnResponse`                                   |

## User Interface

`CAMP` can be added as a child of a `Phenology` node in the model tree. Right-click the parent node, select "Add Model...", and search for `CAMP` in the Filter Box.

## Practical Example

> No practical example is available for this function.

## See Also

* **Source code:** [CAMP.cs on GitHub](http://github.com/APSIMInitiative/ApsimX/blob/master/Models/PMF/Phen/CAMP.cs)
* **Related function:** [CalcCAMPVrnRates.cs](http://github.com/APSIMInitiative/ApsimX/blob/master/Models/PMF/Phen/CalcCAMPVrnRates.cs)
