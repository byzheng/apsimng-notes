---
title: "AddFunction"
format: html
---

The AddFunction is a utility function that returns the **sum of values** from all of its child functions.

## Overview

The AddFunction is used to sum up multiple values for a mathematical equation. It summarises values of all children functions (i.e. [IFunction](/docs/APSIM.Core/IFunction.qmd)) and returns the total sum. This is useful when you need to combine multiple traits or parameters into a single value for further calculations in plant growth models.

## Model Structure

{{< include /_includes/Models/model-structure-intro.md >}}

* [Model](/docs/Models/Core/Model.qmd)
* [IFunction](/docs/APSIM.Core/IFunction.qmd)
* [IStructureDependency](/docs/APSIM.Core/IStructureDependency.qmd)

## Connections to Other Components

{{< include /_includes/Models/connections-intro.md >}}

| Component | Connection Type | Description |
|-----------|-----------------|-------------|
| Child Functions | [IFunction](/docs/APSIM.Core/IFunction.qmd) | All child functions whose values are summed together. |

## Model Variables

{{< include /_includes/Models/model-variables-intro.md >}}

**Configurable and Reportable Properties**

> No configurable properties are available for this function.

**Read-Only Reportable Properties**

| Property             | Type    | Description                                                                 |
|----------------------|---------|-----------------------------------------------------------------------------|
| Value   | double  | The sum of values from all child functions.                      |


## Events 

{{< include /_includes/Models/events-intro.md >}}


> No events are listened or raisedby this function.

## Processes and Algorithms

{{< include /_includes/Models/processes-intro.md >}}


The AddFunction implements a simple summation algorithm that iterates through all child functions and accumulates their values:

$$
V_{\text{total}} = \sum_{i=1}^{n} V_i
$$

where $V_{\text{total}}$ is the total sum, $V_i$ is the value of the $i$-th child function, and $n$ is the number of child functions.

The algorithm:

1. Locates all child functions that implement the IFunction interface
2. Iterates through each child function
3. Calls the Value method on each child function
4. Accumulates the returned values
5. Returns the total sum

This allows for flexible composition of complex calculations by combining multiple simpler functions hierarchically.


This allows for flexible composition of complex calculations by combining multiple simpler functions hierarchically.

## User Interface

AddFunction can be added into the model tree by right-clicking on a parent node and selecting "Add Model...", and then search AddFunction in the Filter Box. A symbol for the AddFunction is displayed in the user interface to represent the function.

![](https://github.com/APSIMInitiative/ApsimX/raw/master/ApsimNG/Resources/TreeViewImages/AddFunction.png){ width=64px }

## Practical Example

The target thermal time from germination to emergence in the wheat model is determined by ShootLag ($ShootLag$), Sowing Depth ($SowingDepth$), and Shoot Rate ($ShootRate$).

$$
TT = ShootLag + (SowingDepth \times ShootRate)
$$

The AddFunction is used to sum these two values to get the total target thermal time in the equation above.

## See Also

* **Source code:** [AddFunction.cs on GitHub](http://github.com/APSIMInitiative/ApsimX/blob/master/Models/Functions/AddFunction.cs)